<div class="absolute" [@minimize]="app().isMinimized">
  <div
    class="flex flex-col overflow-hidden rounded-md bg-gray-600/90 shadow-2xl backdrop-blur"
    [ngStyle]="{
      width: (app().defaultSize?.width || 600) + 'px',
      height: (app().defaultSize?.height || 400) + 'px',
    }"
    (mousedown)="focusApp.emit()"
    wsDraggable>
    <div class="flex h-6 w-full bg-gray-700 px-4 text-white" wsDragHandle>
      <div class="flex-1">
        {{ app().name }}
      </div>
      <div class="flex gap-2">
        <button (click)="minimizeApp.emit()">-</button>
        <button (click)="close()">X</button>
      </div>
    </div>
    <div class="flex-1">
      @if (component(); as component) {
        <ng-container *ngComponentOutlet="component" />
      } @else {
        Loading...
      }
    </div>
  </div>
</div>
